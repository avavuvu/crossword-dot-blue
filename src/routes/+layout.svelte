<script lang="ts">
    import { options } from '$lib/options.svelte';
    import Footer from '@/Footer.svelte';
	import '../app.css';
	let { children } = $props();

	const faviconColors: {
		primary: string,
		white: string
	} = $state({ primary: "", white: ""})

	$effect(() => {
		document.documentElement.setAttribute('data-theme', options.Theme.setting as string);

		faviconColors.primary = getComputedStyle(document.documentElement)
			.getPropertyValue('--color-primary').replace("#", "%23")
		
		faviconColors.white = getComputedStyle(document.documentElement)
			.getPropertyValue('--color-white').replace("#", "%23")

	})

	const data = $derived(`data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50.2 56.41' class='w-full h-full'%3E%3Cdefs%3E%3Cstyle%3E .cls-1 %7B fill: ${faviconColors.white}; %7D .cls-1, .cls-2 %7B stroke: ${faviconColors.primary}; stroke-miterlimit: 10; %7D .cls-2 %7B fill: ${faviconColors.primary}; %7D %3C/style%3E%3C/defs%3E%3Cg id='Layer_1-2' data-name='Layer 1'%3E%3Cpath class='cls-1' d='M44.84,25.83c2.98-2.66,4.86-6.51,4.86-10.82,0-8.02-6.5-14.52-14.52-14.52-5.27,0-9.86,2.81-12.41,7.01-2.25-1.43-4.9-2.26-7.76-2.26C7,5.25.5,11.75.5,19.76c0,4.3,1.88,8.16,4.86,10.82-2.98,2.66-4.86,6.51-4.86,10.82,0,8.02,6.5,14.52,14.52,14.52,5.27,0,9.86-2.81,12.41-7.01,2.25,1.43,4.9,2.26,7.76,2.26,8.02,0,14.52-6.5,14.52-14.52,0-4.3-1.88-8.16-4.86-10.82Z'/%3E%3Cpath class='cls-2' d='M39.64,32.24c-.27.27-1.37,1.82-4.28,5.2-2.92,3.33-5.97,5.88-7.02,5.29-.64-.36-.14-1.37.82-2.78,1-1.46,3.78-5.06,4.88-6.43,1.09-1.37,1.32-2.83.73-3.28-.64-.5-1.73-.09-2.55.32-.77.32-1.82.77-1.91.64-.14-.23.27-.77.73-1.41.47-.64.69-1.68.22-2.03,1.26-1,2.55-2.18,3.79-3.53,3.83-4.19,6.66-9.34,6.66-12.81,0-1.19-.32-2.19-1.09-2.87-.41-.36-1.05-.55-1.82-.55-2.96,0-8.3,2.51-13.63,6.24-1.5-.68-3.56-1.28-6.11-1.28-.73,0-1.46.04-2.23.14-6.06.77-10.12,4.38-10.35,7.88-.18,3.19,1.6,6.24,5.51,7.43-1.23,2.69-1.73,5.2-1.73,7.38,0,3.97,1.59,6.84,3.14,7.66.78.41,1.64.59,2.51.59,2.46,0,5.11-1.41,7.11-2.69,1.56-1.02,3.18-2.37,4.38-3.44-.63,1.05-1.14,2.32-1.14,3.39,0,.87.32,1.6,1.23,1.96,2.14.96,5.11-2,6.97-3.87,1.82-1.91,5.2-6.11,5.65-6.65.46-.55-.23-.82-.46-.5ZM26.38,16.15c.36.18.59.36.73.46.41.32.77.41.91.23.09-.14.05-.46-.36-.91-.14-.14-.32-.27-.55-.5,4.56-4.33,8.89-6.43,11.26-6.43.59,0,1.09.14,1.41.41.5.46.73,1.19.73,2.01,0,2.73-2.42,7.16-5.65,10.94-4.24,4.92-10.3,9.66-12.49,7.88-.59-.5-.68-1.28-.5-2.23,3.42-1.09,6.47-3.05,9.16-5.42,4.28-3.78,6.43-8.07,4.97-9.07-1.28-.82-5.56.77-9.94,5.79-2.64,3.01-4.28,5.88-4.79,8.07-.82.23-1.64.41-2.51.5-.41.05-.78.09-1.14.09.77-1.28,1.59-2.64,2.6-4.1,1.96-3.05,4.06-5.65,6.15-7.7ZM22.14,27.09c.82-2.51,3.19-5.7,4.6-7.29,2.14-2.51,7.38-6.52,8.57-5.47.68.64-.87,3.1-2.32,4.83-1.18,1.5-5.15,5.97-10.85,7.93ZM7.28,21.99c-.23-3.74,4.33-7.34,9.62-7.98.64-.09,1.23-.09,1.82-.09,2.23,0,4.06.46,5.42,1.05-3.05,2.28-6.02,4.92-8.48,7.79-1.37,1.6-2.42,3.19-3.19,4.69-3.46-1.09-5.06-3.55-5.2-5.47ZM16.17,43.14c-.68,0-1.28-.09-1.87-.41-1-.55-1.55-1.46-1.55-2.92,0-2.28,1.37-5.79,4.33-10.94,1.41-.05,2.73-.32,4.01-.64-.14,1.23.14,2.19.87,2.73.41.27.91.46,1.55.46,1.39,0,3.3-.71,5.39-2.01-.09.12-.17.25-.24.37-.82,1.32-1.19,2.6-.46,3.01.73.46,2.55-.96,3.05-.59.36.26-.91,1.82-2.16,3.39-.12.01-.27.09-.44.25-.55.46-2.32,1.91-4.47,3.6-1.78,1.32-5.2,3.69-8.02,3.69Z'/%3E%3C/g%3E%3C/svg%3E`)
</script>

<svelte:head >
	<link rel="icon" href="{data}"/>
</svelte:head>

<div class="w-full h-full bg-white overflow-clip" data-theme="{options.Theme.setting}" >
	{@render children()}
	<Footer/>
</div>